# Ecoregion Configuration for Wildfire Forecast System
#
# This file defines which ecoregions to process and their optimal predictors
# as determined by the retrospective analysis (src/03_dryness.R)

ecoregions:
  # Middle Rockies - Uses VPD as primary predictor
  - id: 17
    name: "Middle Rockies"
    name_clean: "middle_rockies"
    enabled: true
    cover_types:
      forest:
        window: 15          # 15-day rolling mean
        variable: "vpd"     # Vapor Pressure Deficit
        gridmet_varname: "vpd"
      non_forest:
        window: 5           # 5-day rolling mean
        variable: "vpd"
        gridmet_varname: "vpd"
    parks:
      - YELL  # Yellowstone National Park
      - GRTE  # Grand Teton National Park
      - JODR  # John D. Rockefeller Jr. Memorial Parkway
      - JECA  # Jewel Cave National Monument
      - GRKO  # Grant-Kohrs Ranch National Historic Site
      - DETO  # Devils Tower National Monument
      - WICA  # Wind Cave National Park
      - MORU  # Mount Rushmore National Memorial
      - BICA # Bighorn Canyon
      #- BIHO # Big Hole---Not really sure if this should be added, because seems to overlap with Nez Perce?
      - CRMO # Craters of the Moon
      - NEPE # Nez Perce

  # Southern Rockies - Uses inverted FM1000 as primary predictor
  # NOTE: variable is "fm1000inv" to match inverted quantile rasters (becomes FM1000INV in filenames via toupper)
  # The forecast script will invert (100 - FM1000) automatically
  - id: 21
    name: "Southern Rockies"
    name_clean: "southern_rockies"
    enabled: true
    cover_types:
      forest:
        window: 5           # 5-day rolling mean
        variable: "fm1000inv"  # 1000-hour fuel moisture (inverted: 100 - FM1000)
        gridmet_varname: "fm1000"
      non_forest:
        window: 1           # 1-day (no rolling average)
        variable: "fm1000inv"
        gridmet_varname: "fm1000"
    parks:
      - ROMO  # Rocky Mountain National Park
      - GRSA  # Great Sand Dunes National Park & Preserve
      - CURE  # Curecanti National Recreation Area
      - BAND # Bandelier
      - PECO # Pecos
      - FLFO # Florissant Fossil Beds

  # Southern Rockies - Uses inverted FM1000 as primary predictor
  # NOTE: variable is "fm1000inv" to match inverted quantile rasters (becomes FM1000INV in filenames via toupper)
  # The forecast script will invert (100 - FM1000) automatically
  - id: 20
    name: "Colorado Plateaus"
    name_clean: "colorado_plateaus"
    enabled: true
    cover_types:
      forest:
        window: 5          
        variable: "fm1000inv"  # 1000-hour fuel moisture (inverted: 100 - FM1000)
        gridmet_varname: "fm1000"
      non_forest:
        window: 27          
        variable: "vpd"
        gridmet_varname: "vpd"
    parks:
      - DINO  # Dinosaur National Monument
      - CANY # Canyonlands
      - ARCH # Arches
      - BLCA  # Black Canyon of the Gunnison National Park
      - COLM  # Colorado National Monument
      - CURE  # Curecanti National Recreation Area
      - MEVE  # Mesa Verde National Park
      - HOVE # Hovenweep
      - GLCA # Glen Canyon
      - CARE # Capitol Reef
      - BRCA # Bryce Canyon
      - ZION # Zion
      - NABR # Natural Bridges
      - RABR # Rainbow Bridges
      - YUHO # Yucca House
      - PISP # Pipe Spring
      - GRCA # Grand Canyon

  # Mojave Basin and Range - uses GDD_0 (growing degree days with base temp 0°C)
  # NOTE: Only non-forest cover types are predicted, due to insufficient fires on forest cover in the ecoregion
  # GDD_0 = max(0, (Tmax + Tmin) / 2 - 273.15); Kelvin → Celsius, negatives clamped to 0
  - id: 14
    name: "Mojave Basin and Range"
    name_clean: "mojave_basin_and_range"
    enabled: true
    cover_types:
      non_forest:
        window: 27          # 27-day rolling sum (flux variable - uses SUM not MEAN)
        variable: "gdd_0"   # Growing Degree Days, base 0
        gridmet_varname: "gdd_0"  # Triggers special handling: load tmax + tmin, calculate GDD_0
    parks:
      - DEVA # Death Valley
      - GRCA # Grand Canyon
      - LAME # Lake Mead
      - MOJA # Mojave
      - JOTR # Joshua Tree
# Future ecoregions can be added here following the same pattern
# Example:
#  - id: 13
#    name: "Central Basin and Range"
#    name_clean: "central_basin_and_range"
#    enabled: false  # Set to true when ready to deploy
#    cover_types:
#      forest:
#        window: 11
#        variable: "erc"
#        gridmet_varname: "erc"
#      non_forest:
#        window: 7
#        variable: "erc"
#        gridmet_varname: "erc"
#    parks:
#      - GRBA  # Great Basin National Park
