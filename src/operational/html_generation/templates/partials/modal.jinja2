    <div id="myModal" class="modal">
      <span class="close">&times;</span>
      <img class="modal-content" id="img01">
    </div>

    <div id="myPannableModal" class="modal">
      <span class="close">&times;</span>
      <img class="modal-content-pannable" id="img02">
    </div>

    <script>
        // Get the modals
        var modal = document.getElementById("myModal");
        var pannableModal = document.getElementById("myPannableModal");

        // Get the image and insert it inside the modal - use its "alt" text as a caption
        var modalImg = document.getElementById("img01");
        var pannableModalImg = document.getElementById("img02");
        var images = document.getElementsByTagName("img");
        for (var i = 0; i < images.length; i++) {
            images[i].onclick = function(){
                if (this.classList.contains("pannable-image")) {
                    pannableModal.style.display = "block";
                    pannableModalImg.src = this.src;
                } else {
                    modal.style.display = "block";
                    modalImg.src = this.src;
                }
            }
        }

        // Get the <span> element that closes the modal
        var spans = document.getElementsByClassName("close");
        for (var i = 0; i < spans.length; i++) {
            spans[i].onclick = function() {
                modal.style.display = "none";
                pannableModal.style.display = "none";
            }
        }

        // When the user clicks anywhere outside of the image, close the modal
        modal.onclick = function(event) {
            if (event.target == modal) {
                modal.style.display = "none";
            }
        }
        pannableModalImg.onclick = function(event) {
            pannableModal.style.display = "none";
        }

        // Close modal on escape key press
        document.addEventListener("keydown", function(event) {
            if (event.key === "Escape" && (modal.style.display === "block" || pannableModal.style.display === "block")) {
                modal.style.display = "none";
                pannableModal.style.display = "none";
            }
        });

        // Navigation
        function showContent(id) {
            var sections = document.getElementsByClassName("content-section");
            for (var i = 0; i < sections.length; i++) {
                sections[i].classList.add("hidden");
            }
            document.getElementById(id).classList.remove("hidden");
        }

        window.onhashchange = function() {
            var hash = window.location.hash.substring(1);
            if (hash) {
                var element = document.getElementById(hash);
                if (element) {
                    var parentSection = element.closest('.content-section');
                    if (parentSection) {
                        showContent(parentSection.id);
                    } else {
                        showContent(hash);
                    }
                } else {
                    showContent("forecast-map");
                }
            } else {
                showContent("forecast-map");
            }
        }

        // Initial load
        var initialHash = window.location.hash.substring(1);
        if (initialHash) {
            var element = document.getElementById(initialHash);
            if (element) {
                var parentSection = element.closest('.content-section');
                if (parentSection) {
                    showContent(parentSection.id);
                } else {
                    showContent(initialHash);
                }
            } else {
                showContent("forecast-map");
            }
        } else {
            showContent("forecast-map");
        }

        function showPark(parkCode) {
            // Hide all park plot divs
            var parkPlots = document.getElementsByClassName('park-plots');
            for (var i = 0; i < parkPlots.length; i++) {
                parkPlots[i].style.display = 'none';
            }
            // Deactivate all park links
            var parkLinks = document.getElementsByClassName('park-link');
            for (var i = 0; i < parkLinks.length; i++) {
                parkLinks[i].classList.remove('active');
            }
            // Show the selected park's plots and activate its link
            document.getElementById(parkCode).style.display = 'block';
            event.currentTarget.classList.add('active');
        }
    </script>
